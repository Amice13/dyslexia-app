import{V as $,u as A,a as w,b as x,c as z,d as h}from"./route-block-1VZ9BPsZ.js";import{g as E,v as M,K as j,o as D,x as d,B as f,t as o,f as s,z as i,A as l,J as C,D as u,L,M as O,y as P,N as k,C as R,O as T,r as g}from"./index-B4CKZ_oB.js";import{i as F,j as J,h as r,k as K}from"./transition-D3B4MnWp.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dimensions-CMoheucL.js";const V=E()({name:"VSlideGroupItem",props:J(),emits:{"group:selected":c=>!0},setup(c,p){let{slots:n}=p;const e=F(c,$);return()=>n.default?.({isSelected:e.isSelected.value,select:e.select,toggle:e.toggle,selectedClass:e.selectedClass.value})}}),Z={class:"bg-black vh-100 d-flex flex-column"},q={class:"text-center w-100 mt-4"},H={class:"carousel-wrapper w-100"},Q={class:"bg-transparent pa-4",style:{border:"2px dashed white"}},W={class:"mt-4"},X={class:"bg-white pa-4"},Y={class:"mt-4"},ee={key:0},y=50,G=M({__name:"index",setup(c){const{gridnotes:p}=A(),n=j(),e=g(0);D(()=>{e.value=0});const I=()=>{if(e.value===0){n.push("/gridnote/new");return}n.push(`/gridnote/${v.value?.[e.value-1]?.id??"new"}`)},_=g(0),v=g([]);async function S(){const b=await p.offset(_.value*y).limit(y).toArray();v.value.push(...b),_.value++}return S(),(b,t)=>(d(),f("div",Z,[o("div",q,[s(r,{disabled:i(e)===0,variant:"text",icon:"mdi-email"},null,8,["disabled"]),s(r,{onClick:I,variant:"text",icon:"mdi-fullscreen"}),s(r,{variant:"text",icon:"mdi-view-grid"}),s(r,{disabled:i(e)===0,variant:"text",icon:"mdi-information-outline"},null,8,["disabled"])]),o("div",H,[s(z,{modelValue:i(e),"onUpdate:modelValue":t[2]||(t[2]=a=>T(e)?e.value=a:null),"center-active":"","show-arrows":"",class:"py-6 w-100"},{default:l(()=>[s(V,null,{default:l(({isSelected:a})=>[s(w,{class:C(["pa-4",["carousel-item bg-transparent text-center ",{"carousel-item--active":a}]]),elevation:"4",onClick:t[1]||(t[1]=m=>e.value=0)},{default:l(()=>[o("div",Q,[s(x,{class:"align-center",height:"50vh",cover:""},{default:l(()=>[s(K,{size:"15vh",color:"white"},{default:l(()=>[...t[3]||(t[3]=[u("mdi-plus",-1)])]),_:1})]),_:1})]),o("div",W,[t[5]||(t[5]=o("div",null,"Ajoute un noveau cahier",-1)),s(r,{onClick:t[0]||(t[0]=m=>i(n).push("/gridnote/new")),class:"mt-2 mb-2",variant:"outlined"},{default:l(()=>[...t[4]||(t[4]=[u("CrÃ©er",-1)])]),_:1})])]),_:1},8,["class"])]),_:1}),(d(!0),f(L,null,O(i(v),(a,m)=>(d(),P(V,{key:a.id??"new"},{default:l(({isSelected:N})=>[s(w,{class:C(["pa-4",["carousel-item bg-transparent text-center ",{"carousel-item--active":N}]]),elevation:"4",onClick:B=>e.value=m+1},{default:l(()=>[o("div",X,[s(x,{src:a.cover,class:"border-md bg-white",height:"50vh",contain:""},null,8,["src"])]),o("div",Y,[o("div",null,k(a.fileName),1),o("div",null,[u(k(a.pages)+" page",1),a.pages>1?(d(),f("span",ee,"s")):R("",!0)]),s(r,{onClick:B=>i(n).push(`/gridnote/${a.id??"new"}`),class:"mt-2 mb-2",variant:"outlined"},{default:l(()=>[...t[6]||(t[6]=[u("Ouvrir",-1)])]),_:1},8,["onClick"])])]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue"])])]))}});typeof h=="function"&&h(G);const ne=U(G,[["__scopeId","data-v-985981a5"]]);export{ne as default};
